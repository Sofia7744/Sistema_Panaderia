<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panader√≠a Delicia</title>
  <meta name="description" content="Panader√≠a Delicia: el sabor que te acompa√±a cada d√≠a.">
  <link rel="stylesheet" href="metricas.css">
</head>
<body>

  <!-- Header -->
  <header class="hero">
    <nav class="nav-bar">
      <h1><a href="main.html">Panader√≠a Delicia</a></h1>
      <ul class="menu">
        <li><a href="main.html">Inicio</a></li>
        <li>
          <a href="productos.html">Productos</a>
          <ul class="submenu">
            <li><a href="crud-productos.html">Control Productos</a></li>
            <li><a href="crud-categorias.html">Control Categorias</a></li>
          </ul>
        </li>
        <li><a href="promociones.html">Promociones</a></li>
        <li>
          <a href="#">Reservas</a>
          <ul class="submenu">
             <li><a href="reserva-nueva.html">Nueva Reserva</a></li>
             <li><a href="reserva-actual.html">Mis Reservas</a></li>
          </ul>
        </li>
        <li><a href="gestion.html">Gesti√≥n</a></li>
        <li><a href="metricas.html">M√©tricas</a></li>
        <li><a href="nosotros.html">Nosotros</a></li>
        <li><a href="carrito.html">Ver üõí</a></li>
        <li><a href="#" class="btn-login">Iniciar Sesi√≥n</a></li>
        <li><a href="#" id="btnCerrarSesionDirecto" style="display: none; color: var(--color-accent); font-weight: 600;">Cerrar sesi√≥n</a></li>
      </ul>
    </nav>
  </header>

  <main class="main-content">
        <section class="page-header">
            <div class="container">
                <h1>Dashboard de M√©tricas</h1>
                <p>An√°lisis y estad√≠sticas del negocio</p>
            </div>
        </section>

        <section class="metricas-section">
            <div class="container">
                <!-- Filtro de Per√≠odo -->  
                <div class="period-selector">
                    <button class="period-btn active" data-period="today">Hoy</button>
                    <button class="period-btn" data-period="week">Esta Semana</button>
                    <button class="period-btn" data-period="month">Este Mes</button>
                    <button class="period-btn" data-period="all">Todo</button>
                </div>

                <!-- KPIs Principales -->  
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-icon" style="background-color: #e8f5e9;">
                            <span style="color: var(--color-success); font-size: 2rem;">üí∞</span>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-label">Ingresos Totales</div>
                            <div class="kpi-value" id="totalIngresos">S/ 0.00</div>
                            <div class="kpi-change positive" id="ingresosChange">+0%</div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon" style="background-color: #e3f2fd;">
                            <span style="color: var(--color-info); font-size: 2rem;">üì¶</span>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-label">Total Reservas</div>
                            <div class="kpi-value" id="totalReservas">0</div>
                            <div class="kpi-change positive" id="reservasChange">+0%</div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon" style="background-color: #fff3cd;">
                            <span style="color: #856404; font-size: 2rem;">‚è≥</span>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-label">Reservas Pendientes</div>
                            <div class="kpi-value" id="reservasPendientes">0</div>
                            <div class="kpi-sublabel">Requieren atenci√≥n</div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon" style="background-color: #fce4ec;">
                            <span style="color: var(--color-primary); font-size: 2rem;">üç∞</span>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-label">
                                Productos Vendidos
                            </div>
                            <div class="kpi-value" id="productosVendidos">0</div>
                            <div class="kpi-sublabel">
                                Unidades totales
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos y Tablas -->  
                <div class="charts-grid">
                    <!-- Ventas por Categor√≠a -->  
                    <div class="chart-card">
                        <h3>Ventas por Categor√≠a</h3>
                        <div id="categoriaChart" class="chart-container">
                            <!-- Gr√°fico de barras simple --> 
                        </div>
                    </div>

                    <!-- Productos M√°s Vendidos -->  
                    <div class="chart-card">
                        <h3>Productos M√°s Vendidos</h3>
                        <div id="topProductos" class="top-list">
                             <!-- Lista de productos --> 
                        </div>
                    </div>

                    <!-- Estado de Reservas -->  
                    <div class="chart-card">
                        <h3>Estado de Reservas</h3>
                        <div id="estadoChart" class="estado-chart">
                          <!-- Gr√°fico de estado -->
                          <div class="estado-item">
                            <div class="estado-label">
                              <span class="estado-dot" style="background-color: #ffc107"></span>
                              <span>Pendiente</span>
                            </div>
                            <div class="estado-count">0</div>
                          </div>

                          <div class="estado-item">
                            <div class="estado-label">
                              <span class="estado-dot" style="background-color: #17a2b8"></span>
                              <span>Confirmada</span>
                            </div>
                            <div class="estado-count">0</div>
                          </div>

                          <div class="estado-item">
                            <div class="estado-label">
                              <span class="estado-dot" style="background-color: #28a745"></span>
                              <span>Lista</span>
                            </div>
                            <div class="estado-count">0</div>
                          </div>

                          <div class="estado-item">
                            <div class="estado-label">
                              <span class="estado-dot" style="background-color: #4caf50"></span>
                              <span>Entregada</span>
                            </div>
                            <div class="estado-count">0</div>
                          </div>

                          <div class="estado-item">
                            <div class="estado-label">
                              <span class="estado-dot" style="background-color: #dc3545"></span>
                              <span>Cancelada</span>
                            </div>
                            <div class="estado-count">0</div>
                          </div>
                        </div>
                    </div>

                    <!-- Ingresos por D√≠a -->  
                    <div class="chart-card full-width">
                        <h3>Ingresos por D√≠a</h3>
                        <div id="ingresosChart" class="line-chart">
                          <!-- Gr√°fico de l√≠nea simple -->
                          <div class="line-bar" style="height: 95%">
                            <div class="line-bar-tooltip">
                              <p>
                                lun
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                          <div class="line-bar" style="height: 65%">
                            <div class="line-bar-tooltip">
                              <p>
                                mar
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                          <div class="line-bar" style="height: 80%">
                            <div class="line-bar-tooltip">
                              <p>
                                mi√©
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                          <div class="line-bar" style="height: 85%">
                            <div class="line-bar-tooltip">
                              <p>
                                jue
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                          <div class="line-bar" style="height: 65%">
                            <div class="line-bar-tooltip">
                              <p>
                                vie
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                          <div class="line-bar" style="height: 45%">
                            <div class="line-bar-tooltip">
                              <p>
                                sab
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                          <div class="line-bar" style="height: 50%">
                            <div class="line-bar-tooltip">
                              <p>
                                dom
                                <br>
                                S/ 0.00
                              </p>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>

                <!-- Tabla de √öltimas Reservas  --> 
                <div class="recent-reservas">
                    <h3>√öltimas Reservas</h3>
                    <div class="table-container">
                        <table class="metricas-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Cliente</th>
                                    <th>Fecha</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody id="recentReservasBody">
                                <!-- Las reservas se cargar√°n din√°micamente -->  
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

  
  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="contact">
        <h3>Contacto</h3>
        <div class="footer-links">
          <a href="tel:987654321">987 654 321</a>
          <a href="mailto:panaderiadelicia@gmail.com">panaderiadelicia@gmail.com</a>
        </div>
      </div>
      <div class="redes">
        <h3>S√≠guenos en</h3>
        <div class="footer-links">
          <a href="#" target="_blank">Facebook</a>
          <a href="#" target="_blank">Instagram</a>
          <a href="#" target="_blank">WhatsApp</a>
        </div>
      </div>
      <div class="explora">
        <h3>Explora</h3>
        <div class="footer-links">
          <a href="main.html">Inicio</a>
          <a href="productos.html">Productos</a>
          <a href="promociones.html">Promociones</a>
          <a href="reserva-nueva.html">Reservas</a>
          <a href="nosotros.html">Nosotros</a>
          <a href="carrito.html">Carrito</a>
        </div>
      </div>
    </div>
    <p class="copy">&copy; 2025 Panader√≠a Delicia. Todos los derechos reservados.</p>
  </footer>

  <!-- Modal Login -->
  <div id="modalLogin" class="modal">
    <div class="modal-contenido">
      <span class="cerrar">&times;</span>
      <div class="modal-tabs">
        <button class="tab-btn active" data-tab="login-tab">Iniciar Sesi√≥n</button>
        <button class="tab-btn" data-tab="registro-tab">Registrarse</button>
      </div>
      
      <div id="login-tab" class="tab-content active">
        <form id="form-login" class="form-login">
          <div class="form-group">
            <label for="login-email">Correo electr√≥nico</label>
            <input type="email" id="login-email" placeholder="Ingresa tu correo electr√≥nico" required>
          </div>
          <div class="form-group">
            <label for="login-password">Contrase√±a</label>
            <input type="password" id="login-password" placeholder="Ingresa tu contrase√±a" required>
            <a href="#" class="forgot-password">¬øOlvidaste tu contrase√±a?</a>
          </div>
          <div class="form-check">
            <input type="checkbox" id="remember-me">
            <label for="remember-me">Recordarme</label>
          </div>
          <button type="submit" class="btn-submit">Ingresar</button>
        </form>
      </div>
      
      <div id="registro-tab" class="tab-content">
        <form id="form-registro" class="form-registro">
          <div class="form-group">
            <label for="registro-nombre">Nombre completo</label>
            <input type="text" id="registro-nombre" placeholder="Ingresa tu nombre completo" required>
          </div>
          <div class="form-group">
            <label for="registro-email">Correo electr√≥nico</label>
            <input type="email" id="registro-email" placeholder="Ingresa tu correo electr√≥nico" required>
          </div>
          <div class="form-group">
            <label for="registro-password">Contrase√±a</label>
            <input type="password" id="registro-password" placeholder="Crea una contrase√±a" required>
          </div>
          <div class="form-group">
            <label for="registro-password-confirm">Confirmar contrase√±a</label>
            <input type="password" id="registro-password-confirm" placeholder="Confirma tu contrase√±a" required>
          </div>
          <div class="form-check">
            <input type="checkbox" id="terminos" required>
            <label for="terminos">Acepto los t√©rminos y condiciones</label>
          </div>
          <button type="submit" class="btn-submit">Crear cuenta</button>
        </form>
      </div>
      
      <div class="social-login">
        <p>O inicia sesi√≥n con</p>
        <div class="social-buttons">
          <button class="btn-social facebook">Facebook</button>
          <button class="btn-social google">Google</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Carrito -->
  <div id="modalCarrito" class="modal">
    <div class="modal-contenido">
      <span class="cerrar">&times;</span>
      <h2>Carrito de Compras</h2>
      <div id="carrito-items">
        <!-- Los productos del carrito se cargar√°n aqu√≠ din√°micamente -->
      </div>
      <hr>
      <p id="total">Total: S/0.00</p>
      <button id="btn-vaciar-carrito">Vaciar Carrito</button>
      <button id="btn-finalizar-compra">Finalizar Compra</button>
    </div>
  </div>

  <!-- Men√∫ de usuario -->
  <div id="menuUsuario" class="menu-usuario" style="display: none;">
    <div class="usuario-header">
      <div id="nombreUsuario">Usuario</div>
      <span class="cerrar-menu">&times;</span>
    </div>
    <ul>
      <li><a href="#">Mi perfil</a></li>
      <li><a href="#">Mis pedidos</a></li>
      <li><a href="#">Mis favoritos</a></li>
      <li><a href="#" id="cerrar-sesion">Cerrar sesi√≥n</a></li>
    </ul>
  </div>

  <!-- Bot√≥n flotante para el carrito -->
  <button class="btn-nav" id="btn-mostrar-carrito" style="display: none;">üõí</button>
  <!-- Modal Cerrar Sesi√≥n -->
  <div id="modalCerrarSesion" class="modal">
    <div class="modal-contenido modal-small">
      <span class="cerrar">&times;</span>
      <h3>Cerrar Sesi√≥n</h3>
      <p>¬øEst√°s seguro que deseas cerrar tu sesi√≥n?</p>
      <div class="modal-buttons">
        <button id="btn-cancelar-logout" class="btn-secondary">Cancelar</button>
        <button id="btn-confirmar-logout" class="btn-primary">Cerrar Sesi√≥n</button>
      </div>
    </div>
  </div>
<!-- Modal M√©todo de Pago -->
<div id="modalMetodoPago" class="modal">
  <div class="modal-contenido">
    <span class="cerrar">&times;</span>
    <h2>M√©todo de Pago</h2>
    <p>Selecciona tu m√©todo de pago preferido:</p>
    
    <div class="metodos-pago">
      <div class="metodo-pago">
        <input type="radio" id="tarjeta" name="metodo-pago" value="tarjeta" checked>
        <label for="tarjeta">Tarjeta de Cr√©dito/D√©bito</label>
      </div>
      
      <div class="metodo-pago">
        <input type="radio" id="yape" name="metodo-pago" value="yape">
        <label for="yape">Yape</label>
      </div>
      
      <div class="metodo-pago">
        <input type="radio" id="efectivo" name="metodo-pago" value="efectivo">
        <label for="efectivo">Pago en Efectivo</label>
      </div>
    </div>
    
    <!-- Contenedor para formularios seg√∫n m√©todo de pago -->
    <div id="formulario-pago-container">
      <!-- Por defecto mostramos el formulario de tarjeta -->
      <div id="form-tarjeta" class="form-pago active">
        <div class="form-group">
          <label for="nombre-tarjeta">Nombre en la tarjeta</label>
          <input type="text" id="nombre-tarjeta" placeholder="Nombre como aparece en la tarjeta" required>
        </div>
        <div class="form-group">
          <label for="numero-tarjeta">N√∫mero de tarjeta</label>
          <input type="text" id="numero-tarjeta" placeholder="XXXX XXXX XXXX XXXX" maxlength="16" required>
        </div>
        <div class="form-group" style="display: flex; gap: 10px;">
          <div style="flex: 1;">
            <label for="fecha-expiracion">Fecha de expiraci√≥n</label>
            <input type="month" id="fecha-expiracion" required>
          </div>
          <div style="width: 80px;">
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" placeholder="XXX" maxlength="3" required>
          </div>
        </div>
      </div>
      
      <div id="form-yape" class="form-pago">
        <div class="form-group">
          <p>Escanea el siguiente c√≥digo QR con la app Yape:</p>
          <div style="width: 200px; height: 200px; margin: 20px auto; background-color: #f5f5f5; display: flex; align-items: center; justify-content: center; border: 1px dashed #ccc;">
            [C√≥digo QR Yape]
          </div>
          <p>O realiza el pago al n√∫mero: <strong>987-654-321</strong></p>
        </div>
        <div class="form-group">
          <label for="yape-numero">Tu n√∫mero de celular</label>
          <input type="text" id="yape-numero" placeholder="Ingresa tu n√∫mero de Yape" required>
        </div>
      </div>
      
      <div id="form-efectivo" class="form-pago">
        <div class="form-group">
          <p>Has seleccionado pago en efectivo. Pagar√°s al momento de recibir tu pedido.</p>
          <div class="form-group">
            <label for="direccion-entrega">Direcci√≥n de entrega</label>
            <input type="text" id="direccion-entrega" placeholder="Ingresa tu direcci√≥n completa" required>
          </div>
          <div class="form-group">
            <label for="referencia-entrega">Referencia</label>
            <input type="text" id="referencia-entrega" placeholder="Casa azul, cerca a la farmacia, etc.">
          </div>
        </div>
      </div>
    </div>
    
    <button id="btn-confirmar-pago" class="btn-submit">Confirmar Pago</button>
  </div>
</div>
  <script src="metricas.js"></script>
</body>
</html>
